<html>
  <head>
    <title>Folha de Horas</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.9.0/dist/semantic.min.css">
    <link rel="stylesheet" type="text/css" href="main.css">
  </head>

  <body>
    <div id="app">
    </div>
  </body>

  <!--
    Library origins:
    "axios": "https://unpkg.com/axios@1.7/dist/esm/axios.js"
    "vue": "https://unpkg.com/vue@3.5/dist/vue.esm-browser.js"
    "vue-router": "https://unpkg.com/vue-router@4.5/dist/vue-router.esm-browser.js"
    "vue-demi": "https://cdn.jsdelivr.net/npm/vue-demi@0.14.10/lib/index.mjs"
    "@vue/devtools-api": "https://unpkg.com/@vue/devtools-api@6.6.4/lib/esm/index.js"
    "pinia": "https://unpkg.com/pinia@2.3/dist/pinia.esm-browser.js"
    "vue3-sfc-loader": "https://cdn.jsdelivr.net/npm/vue3-sfc-loader@0.9/dist/vue3-sfc-loader.esm.js"
  -->
  <script type="importmap">
    {
      "imports": {
        "axios": "/js/axios.js",
        "vue": "/js/vue.esm-browser.js",
        "vue-router": "/js/vue-router.esm-browser.js",
        "vue-demi": "/js/vue-demi.mjs",
        "@vue/devtools-api": "/js/vue-devtools-api.js",
        "pinia": "/js/pinia.esm-browser.js",
        "vue3-sfc-loader": "/js/vue3-sfc-loader.esm.js"
      }
    }
  </script>

  <script src="./js/jquery.min.js"></script>
  <script src="./js/semantic.min.js"></script>

  <script type="module">
    import * as Vue from 'vue'
    import { createPinia } from 'pinia'

    import router from './commons/router.mjs'
    import { load } from './commons/vue-loader.mjs';

    console.log('Creating app...')

    const app = Vue.createApp(load('./pages/App.vue'))

    // Configurar o manipulador de erros global
    app.config.errorHandler = (err, vm, info) => {
      console.error('Vue error:', err);
      console.error('Component instance:', vm);
      console.error('Info:', info);
    };

    // Configurar o manipulador de avisos global
    app.config.warnHandler = (msg, vm, trace) => {
      console.warn('Vue warning:', msg);
      console.warn('Component instance:', vm);
      console.warn('Trace:', trace);
    };

    app.use(createPinia())
    app.use(router)

    console.log('Loading components...')

    app.component('Calendar', load('./components/Calendar.vue'))
    app.component('EditRecord', load('./components/EditRecord.vue'))
    app.component('EditSAPCode', load('./components/EditSAPCode.vue'))
    app.component('SaveCancelRemoveActions', load('./components/SaveCancelRemoveActions.vue'))
    app.component('TimesheetSearchBar', load('./components/TimesheetSearchBar.vue'))
    app.component('TimesheetSummary', load('./components/TimesheetSummary.vue'))
    
    console.log('Mounting...')
    
    app.mount('#app')
  </script>

</html>